<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق السريع ون - توصيل الطلبات</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    colors: {
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                        popover: {
                            DEFAULT: "var(--popover)",
                            foreground: "var(--popover-foreground)",
                        },
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                        },
                        destructive: {
                            DEFAULT: "var(--destructive)",
                            foreground: "var(--destructive-foreground)",
                        },
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                    },
                    fontFamily: {
                        sans: ["Inter", "var(--font-sans)"],
                    }
                },
            }
        };
    </script>
    <style>
        :root {
            --background: hsl(0 0% 100%);
            --foreground: hsl(222.2 84% 4.9%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222.2 84% 4.9%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(222.2 84% 4.9%);
            --primary: hsl(15 98% 56%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(222.2 84% 4.9%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215.4 16.3% 46.9%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(222.2 84% 4.9%);
            --destructive: hsl(0 84.2% 60.2%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214.3 31.8% 91.4%);
            --input: hsl(214.3 31.8% 91.4%);
            --ring: hsl(15 98% 56%);
            --radius: 0.75rem;
        }

        .dark {
            --background: hsl(222.2 84% 4.9%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222.2 84% 4.9%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222.2 84% 4.9%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(15 98% 56%);
            --primary-foreground: hsl(222.2 84% 4.9%);
            --secondary: hsl(217.2 32.6% 17.5%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217.2 32.6% 17.5%);
            --muted-foreground: hsl(215 20.2% 65.1%);
            --accent: hsl(217.2 32.6% 17.5%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 62.8% 30.6%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(217.2 32.6% 17.5%);
            --input: hsl(217.2 32.6% 17.5%);
            --ring: hsl(15 98% 56%);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background);
            color: var(--foreground);
        }

        .rtl-grid {
            direction: rtl;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .floating-cart {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
        }

        .hero-banner {
            background: linear-gradient(135deg, var(--primary) 0%, hsl(15 98% 46%) 100%);
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen">

    <!-- @COMPONENT: MobileApp [Full food delivery app with RTL support] -->
    <div class="max-w-md mx-auto bg-background min-h-screen shadow-xl">
        
        <!-- @COMPONENT: NavigationHeader [Top navigation with search and profile] -->
        <header class="bg-card border-b border-border p-4 sticky top-0 z-40">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-3">
                    <button id="menuBtn" class="p-2 hover:bg-muted rounded-lg">
                        <i class="fas fa-bars text-foreground"></i>
                    </button>
                    <div class="text-center">
                        <h1 class="text-lg font-bold text-primary">السريع ون</h1>
                        <p class="text-xs text-muted-foreground">توصيل سريع</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button id="darkModeToggle" class="p-2 hover:bg-muted rounded-lg">
                        <i class="fas fa-moon text-muted-foreground"></i>
                    </button>
                    <button class="p-2 hover:bg-muted rounded-lg">
                        <i class="fas fa-user-circle text-xl text-muted-foreground"></i>
                    </button>
                </div>
            </div>

            <!-- Search Bar -->
            <div class="relative">
                <input type="text" placeholder="ابحث عن المطاعم والوجبات..." 
                       class="w-full bg-muted text-foreground placeholder-muted-foreground rounded-lg pr-12 pl-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary">
                <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground"></i>
            </div>
        </header>
        <!-- @END_COMPONENT: NavigationHeader -->

        <!-- @COMPONENT: MainContent [Switchable pages content] -->
        <main class="pb-20">

            <!-- Homepage -->
            <div id="homepage" class="page active">
                <!-- @COMPONENT: PromoBanner [Promotional offers carousel] -->
                <section class="p-4">
                    <div class="hero-banner rounded-xl p-6 text-primary-foreground mb-6">
                        <h2 class="text-xl font-bold mb-2">عروض خاصة</h2>
                        <p class="text-sm opacity-90 mb-4">توصيل مجاني على الطلبات أكثر من 50 ريال</p>
                        <button class="bg-primary-foreground text-primary px-6 py-2 rounded-lg font-medium">
                            اطلب الآن
                        </button>
                    </div>
                </section>
                <!-- @END_COMPONENT: PromoBanner -->

                <!-- @COMPONENT: CategoryTabs [Horizontal category selection] -->
                <section class="px-4 mb-6">
                    <div class="flex gap-3 overflow-x-auto pb-2" style="scrollbar-width: none;">
                        <button class="category-tab active bg-primary text-primary-foreground px-6 py-2 rounded-full whitespace-nowrap font-medium">
                            <i class="fas fa-utensils ml-2"></i>مطاعم
                        </button>
                        <button class="category-tab bg-muted text-muted-foreground px-6 py-2 rounded-full whitespace-nowrap font-medium hover:bg-accent">
                            <i class="fas fa-coffee ml-2"></i>مقاهي
                        </button>
                        <button class="category-tab bg-muted text-muted-foreground px-6 py-2 rounded-full whitespace-nowrap font-medium hover:bg-accent">
                            <i class="fas fa-candy-cane ml-2"></i>حلويات
                        </button>
                        <button class="category-tab bg-muted text-muted-foreground px-6 py-2 rounded-full whitespace-nowrap font-medium hover:bg-accent">
                            <i class="fas fa-shopping-cart ml-2"></i>سوبرماركت
                        </button>
                        <button class="category-tab bg-muted text-muted-foreground px-6 py-2 rounded-full whitespace-nowrap font-medium hover:bg-accent">
                            <i class="fas fa-pills ml-2"></i>صيدليات
                        </button>
                    </div>
                </section>
                <!-- @END_COMPONENT: CategoryTabs -->

                <!-- @COMPONENT: RestaurantList [List of restaurants with details] -->
                <section class="px-4 space-y-4">
                    <h3 class="text-lg font-bold text-foreground mb-4">المطاعم القريبة منك</h3>
                    
                    <!-- @MAP: restaurants.map(restaurant => ( -->
                    <div class="restaurant-card bg-card rounded-xl border border-border overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer" data-restaurant-id="1">
                        <!-- A traditional Yemeni restaurant interior with warm lighting and traditional decorations -->
                        <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400" 
                             alt="مطعم الوزيكو للعربكة" 
                             class="w-full h-48 object-cover">
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-foreground">مطعم الوزيكو للعربكة</h4>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">مفتوح</span>
                            </div>
                            <div class="flex items-center gap-4 text-sm text-muted-foreground mb-3">
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-star text-yellow-500"></i>
                                    <span>4.8</span>
                                    <span>(4891 تقييم)</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock"></i>
                                    <span>40-60 دقيقة</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-muted-foreground">الحد الأدنى: 25 ريال</span>
                                <span class="text-sm text-primary font-medium">رسوم التوصيل: 5 ريال</span>
                            </div>
                        </div>
                    </div>

                    <div class="restaurant-card bg-card rounded-xl border border-border overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer" data-restaurant-id="2">
                        <!-- A Middle Eastern sweets and desserts shop display with colorful pastries -->
                        <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400" 
                             alt="حلويات الشام" 
                             class="w-full h-48 object-cover">
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-foreground">حلويات الشام</h4>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">مفتوح</span>
                            </div>
                            <div class="flex items-center gap-4 text-sm text-muted-foreground mb-3">
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-star text-yellow-500"></i>
                                    <span>4.6</span>
                                    <span>(2341 تقييم)</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock"></i>
                                    <span>30-45 دقيقة</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-muted-foreground">الحد الأدنى: 15 ريال</span>
                                <span class="text-sm text-primary font-medium">رسوم التوصيل: 3 ريال</span>
                            </div>
                        </div>
                    </div>

                    <div class="restaurant-card bg-card rounded-xl border border-border overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer" data-restaurant-id="3">
                        <!-- A modern coffee shop interior with Arabic/Middle Eastern aesthetic -->
                        <img src="https://images.unsplash.com/photo-1442512595331-e89e73853f31?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400" 
                             alt="مقهى العروبة" 
                             class="w-full h-48 object-cover">
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-foreground">مقهى العروبة</h4>
                                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">مغلق</span>
                            </div>
                            <div class="flex items-center gap-4 text-sm text-muted-foreground mb-3">
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-star text-yellow-500"></i>
                                    <span>4.5</span>
                                    <span>(1876 تقييم)</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock"></i>
                                    <span>يفتح في 8:00 ص</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-muted-foreground">الحد الأدنى: 20 ريال</span>
                                <span class="text-sm text-muted-foreground">رسوم التوصيل: 4 ريال</span>
                            </div>
                        </div>
                    </div>
                    <!-- @END_MAP )) -->
                </section>
                <!-- @END_COMPONENT: RestaurantList -->
            </div>

            <!-- Restaurant Detail Page -->
            <div id="restaurantDetail" class="page">
                <!-- @COMPONENT: RestaurantHeader [Restaurant cover and basic info] -->
                <div class="relative">
                    <!-- Traditional Yemeni restaurant with authentic decor and warm ambiance -->
                    <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=300" 
                         alt="مطعم الوزيكو للعربكة" 
                         class="w-full h-64 object-cover">
                    <button id="backBtn" class="absolute top-4 right-4 bg-black/50 text-white p-2 rounded-full">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6">
                        <h2 class="text-2xl font-bold text-white mb-2">مطعم الوزيكو للعربكة</h2>
                        <div class="flex items-center gap-4 text-white/90 text-sm">
                            <span>⭐ 4.8 (4891 تقييم)</span>
                            <span>⏰ 40-60 دقيقة</span>
                            <span class="bg-green-500 px-2 py-1 rounded-full text-xs">مفتوح</span>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: RestaurantHeader -->

                <!-- @COMPONENT: MenuCategories [Menu category tabs] -->
                <div class="sticky top-0 bg-background border-b border-border z-30">
                    <div class="flex gap-2 p-4 overflow-x-auto" style="scrollbar-width: none;">
                        <button class="menu-category active bg-primary text-primary-foreground px-4 py-2 rounded-full whitespace-nowrap font-medium">
                            وجبات رمضان
                        </button>
                        <button class="menu-category bg-muted text-muted-foreground px-4 py-2 rounded-full whitespace-nowrap font-medium">
                            المقبلات
                        </button>
                        <button class="menu-category bg-muted text-muted-foreground px-4 py-2 rounded-full whitespace-nowrap font-medium">
                            المشروبات
                        </button>
                        <button class="menu-category bg-muted text-muted-foreground px-4 py-2 rounded-full whitespace-nowrap font-medium">
                            العروض
                        </button>
                    </div>
                </div>
                <!-- @END_COMPONENT: MenuCategories -->

                <!-- @COMPONENT: MenuItems [Restaurant menu with items] -->
                <section class="p-4 space-y-4">
                    <!-- @MAP: menuItems.map(item => ( -->
                    <div class="menu-item bg-card border border-border rounded-xl p-4 flex gap-4 hover:shadow-md transition-shadow">
                        <!-- Traditional Yemeni honey and cream dessert in an elegant presentation -->
                        <img src="https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200" 
                             alt="عربكة بالقشطة والعسل" 
                             class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                        <div class="flex-1">
                            <h4 class="font-bold text-foreground mb-1">عربكة بالقشطة والعسل</h4>
                            <p class="text-sm text-muted-foreground mb-2">حلوى يمنية تقليدية بالقشطة الطازجة والعسل الطبيعي</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary">55 ريال</span>
                                <button class="add-to-cart bg-primary text-primary-foreground px-4 py-1 rounded-lg text-sm font-medium" data-item-id="1" data-price="55" data-name="عربكة بالقشطة والعسل">
                                    إضافة
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item bg-card border border-border rounded-xl p-4 flex gap-4 hover:shadow-md transition-shadow">
                        <!-- Traditional Middle Eastern layered dessert with honey and cream -->
                        <img src="https://pixabay.com/get/g01e9d41668ca87cce9544bafd152305eab844578f1586b8a4b64579388e378fba1bb2582436d586c1d52b0faef020b625fd36cbd4ab35cc32ed851ee24c26bac_1280.jpg" 
                             alt="معصوب بالقشطة والعسل" 
                             class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                        <div class="flex-1">
                            <h4 class="font-bold text-foreground mb-1">معصوب بالقشطة والعسل</h4>
                            <p class="text-sm text-muted-foreground mb-2">طبق يمني شعبي بالموز والقشطة والعسل</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary">55 ريال</span>
                                <button class="add-to-cart bg-primary text-primary-foreground px-4 py-1 rounded-lg text-sm font-medium" data-item-id="2" data-price="55" data-name="معصوب بالقشطة والعسل">
                                    إضافة
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item bg-card border border-border rounded-xl p-4 flex gap-4 hover:shadow-md transition-shadow">
                        <!-- Refreshing mineral water bottle in clear presentation -->
                        <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200" 
                             alt="مياه معدنية" 
                             class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                        <div class="flex-1">
                            <h4 class="font-bold text-foreground mb-1">مياه معدنية 750 مل</h4>
                            <p class="text-sm text-muted-foreground mb-2">مياه طبيعية معدنية عالية الجودة</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary">3 ريال</span>
                                <button class="add-to-cart bg-primary text-primary-foreground px-4 py-1 rounded-lg text-sm font-medium" data-item-id="3" data-price="3" data-name="مياه معدنية 750 مل">
                                    إضافة
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Special Offer Item -->
                    <div class="menu-item bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-4 relative">
                        <div class="absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full">
                            عرض خاص
                        </div>
                        <div class="flex gap-4 mt-6">
                            <!-- Combo meal with traditional Middle Eastern dishes beautifully plated -->
                            <img src="https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200" 
                                 alt="كومبو عربكة خاص" 
                                 class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                            <div class="flex-1">
                                <h4 class="font-bold text-foreground mb-1">كومبو عربكة خاص</h4>
                                <p class="text-sm text-muted-foreground mb-2">عربكة + مطبق عادي + مشروب غازي</p>
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="text-lg font-bold text-green-600">55 ريال</span>
                                    <span class="text-sm text-muted-foreground line-through">60.30 ريال</span>
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">توفير 5.30 ريال</span>
                                </div>
                                <button class="add-to-cart bg-green-500 text-white px-4 py-1 rounded-lg text-sm font-medium" data-item-id="4" data-price="55" data-name="كومبو عربكة خاص">
                                    إضافة للسلة
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- @END_MAP )) -->
                </section>
                <!-- @END_COMPONENT: MenuItems -->
            </div>

            <!-- Shopping Cart Page -->
            <div id="cart" class="page">
                <!-- @COMPONENT: CartHeader [Cart page header] -->
                <header class="bg-card border-b border-border p-4">
                    <div class="flex items-center gap-3">
                        <button id="cartBackBtn" class="p-2 hover:bg-muted rounded-lg">
                            <i class="fas fa-arrow-right text-foreground"></i>
                        </button>
                        <h2 class="text-xl font-bold text-foreground">السلة</h2>
                    </div>
                </header>
                <!-- @END_COMPONENT: CartHeader -->

                <!-- @COMPONENT: CartItems [List of items in cart] -->
                <section class="p-4">
                    <div id="cartItemsList" class="space-y-4 mb-6">
                        <!-- Cart items will be populated by JavaScript -->
                        <div class="text-center text-muted-foreground py-8">
                            <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                            <p>السلة فارغة</p>
                            <p class="text-sm">أضف بعض العناصر لتبدأ طلبك</p>
                        </div>
                    </div>

                    <!-- @COMPONENT: OrderSummary [Order total and checkout] -->
                    <div id="orderSummary" class="bg-card border border-border rounded-xl p-4 hidden">
                        <h3 class="font-bold text-foreground mb-4">ملخص الطلب</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-muted-foreground">المجموع الفرعي</span>
                                <span id="subtotal" class="text-foreground">0 ريال</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-muted-foreground">رسوم التوصيل</span>
                                <span class="text-foreground">5 ريال</span>
                            </div>
                            <div class="border-t border-border pt-2 mt-2">
                                <div class="flex justify-between font-bold">
                                    <span class="text-foreground">الإجمالي</span>
                                    <span id="total" class="text-primary">5 ريال</span>
                                </div>
                            </div>
                        </div>

                        <!-- @COMPONENT: DeliveryDetails [Address and delivery options] -->
                        <div class="mt-6 space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">عنوان التوصيل</label>
                                <input type="text" placeholder="أدخل عنوانك هنا..." 
                                       class="w-full bg-muted text-foreground placeholder-muted-foreground rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">ملاحظات الطلب</label>
                                <textarea placeholder="ملاحظات إضافية (اختياري)..." 
                                          class="w-full bg-muted text-foreground placeholder-muted-foreground rounded-lg px-4 py-3 h-20 resize-none focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">طريقة الدفع</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-3 p-3 bg-muted rounded-lg cursor-pointer">
                                        <input type="radio" name="payment" value="cash" checked class="text-primary">
                                        <i class="fas fa-money-bill-wave text-muted-foreground"></i>
                                        <span class="text-foreground">الدفع عند الاستلام</span>
                                    </label>
                                    <label class="flex items-center gap-3 p-3 bg-muted rounded-lg cursor-pointer">
                                        <input type="radio" name="payment" value="card" class="text-primary">
                                        <i class="fas fa-credit-card text-muted-foreground"></i>
                                        <span class="text-foreground">الدفع الإلكتروني</span>
                                    </label>
                                    <label class="flex items-center gap-3 p-3 bg-muted rounded-lg cursor-pointer">
                                        <input type="radio" name="payment" value="wallet" class="text-primary">
                                        <i class="fas fa-wallet text-muted-foreground"></i>
                                        <span class="text-foreground">الدفع من الرصيد</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: DeliveryDetails -->

                        <button id="placeOrderBtn" class="w-full bg-primary text-primary-foreground py-4 rounded-xl font-bold text-lg mt-6 hover:bg-primary/90 transition-colors">
                            تأكيد الطلب
                        </button>
                    </div>
                    <!-- @END_COMPONENT: OrderSummary -->
                </section>
                <!-- @END_COMPONENT: CartItems -->
            </div>

            <!-- Admin Panel Page -->
            <div id="admin" class="page">
                <!-- @COMPONENT: AdminHeader [Admin panel header] -->
                <header class="bg-card border-b border-border p-4">
                    <div class="flex items-center gap-3">
                        <button id="adminBackBtn" class="p-2 hover:bg-muted rounded-lg">
                            <i class="fas fa-arrow-right text-foreground"></i>
                        </button>
                        <h2 class="text-xl font-bold text-foreground">لوحة التحكم</h2>
                    </div>
                </header>
                <!-- @END_COMPONENT: AdminHeader -->

                <!-- @COMPONENT: AdminDashboard [Admin statistics and controls] -->
                <section class="p-4 space-y-6">
                    <!-- Quick Stats -->
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-card border border-border rounded-xl p-4 text-center">
                            <i class="fas fa-shopping-bag text-2xl text-primary mb-2"></i>
                            <h3 class="text-lg font-bold text-foreground">127</h3>
                            <p class="text-sm text-muted-foreground">طلبات اليوم</p>
                        </div>
                        <div class="bg-card border border-border rounded-xl p-4 text-center">
                            <i class="fas fa-store text-2xl text-green-500 mb-2"></i>
                            <h3 class="text-lg font-bold text-foreground">43</h3>
                            <p class="text-sm text-muted-foreground">متجر نشط</p>
                        </div>
                        <div class="bg-card border border-border rounded-xl p-4 text-center">
                            <i class="fas fa-truck text-2xl text-blue-500 mb-2"></i>
                            <h3 class="text-lg font-bold text-foreground">12</h3>
                            <p class="text-sm text-muted-foreground">سائق متاح</p>
                        </div>
                        <div class="bg-card border border-border rounded-xl p-4 text-center">
                            <i class="fas fa-chart-line text-2xl text-purple-500 mb-2"></i>
                            <h3 class="text-lg font-bold text-foreground">2,340</h3>
                            <p class="text-sm text-muted-foreground">ريال الإيرادات</p>
                        </div>
                    </div>

                    <!-- Admin Menu -->
                    <div class="space-y-3">
                        <h3 class="text-lg font-bold text-foreground">الإدارة</h3>
                        
                        <button class="w-full bg-card border border-border rounded-xl p-4 flex items-center justify-between hover:bg-accent transition-colors">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-store text-primary"></i>
                                <span class="text-foreground font-medium">إدارة المتاجر</span>
                            </div>
                            <i class="fas fa-chevron-left text-muted-foreground"></i>
                        </button>

                        <button class="w-full bg-card border border-border rounded-xl p-4 flex items-center justify-between hover:bg-accent transition-colors">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-tags text-green-500"></i>
                                <span class="text-foreground font-medium">إدارة التصنيفات</span>
                            </div>
                            <i class="fas fa-chevron-left text-muted-foreground"></i>
                        </button>

                        <button class="w-full bg-card border border-border rounded-xl p-4 flex items-center justify-between hover:bg-accent transition-colors">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-shopping-bag text-blue-500"></i>
                                <span class="text-foreground font-medium">إدارة الطلبات</span>
                            </div>
                            <i class="fas fa-chevron-left text-muted-foreground"></i>
                        </button>

                        <button class="w-full bg-card border border-border rounded-xl p-4 flex items-center justify-between hover:bg-accent transition-colors">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-percent text-purple-500"></i>
                                <span class="text-foreground font-medium">إدارة العروض</span>
                            </div>
                            <i class="fas fa-chevron-left text-muted-foreground"></i>
                        </button>

                        <button class="w-full bg-card border border-border rounded-xl p-4 flex items-center justify-between hover:bg-accent transition-colors">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-truck text-orange-500"></i>
                                <span class="text-foreground font-medium">إدارة السائقين</span>
                            </div>
                            <i class="fas fa-chevron-left text-muted-foreground"></i>
                        </button>

                        <button class="w-full bg-card border border-border rounded-xl p-4 flex items-center justify-between hover:bg-accent transition-colors">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-chart-bar text-red-500"></i>
                                <span class="text-foreground font-medium">التقارير والإحصائيات</span>
                            </div>
                            <i class="fas fa-chevron-left text-muted-foreground"></i>
                        </button>
                    </div>
                </section>
                <!-- @END_COMPONENT: AdminDashboard -->
            </div>

        </main>
        <!-- @END_COMPONENT: MainContent -->

        <!-- @COMPONENT: BottomNavigation [Fixed bottom navigation] -->
        <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-card border-t border-border px-4 py-2">
            <div class="flex justify-around items-center">
                <button class="nav-btn active flex flex-col items-center gap-1 py-2 px-3" data-page="homepage">
                    <i class="fas fa-home text-primary"></i>
                    <span class="text-xs text-primary">الرئيسية</span>
                </button>
                <button class="nav-btn flex flex-col items-center gap-1 py-2 px-3" data-page="search">
                    <i class="fas fa-search text-muted-foreground"></i>
                    <span class="text-xs text-muted-foreground">البحث</span>
                </button>
                <button class="nav-btn flex flex-col items-center gap-1 py-2 px-3" data-page="orders">
                    <i class="fas fa-receipt text-muted-foreground"></i>
                    <span class="text-xs text-muted-foreground">طلباتي</span>
                </button>
                <button class="nav-btn flex flex-col items-center gap-1 py-2 px-3" data-page="profile">
                    <i class="fas fa-user text-muted-foreground"></i>
                    <span class="text-xs text-muted-foreground">الملف الشخصي</span>
                </button>
            </div>
        </nav>
        <!-- @END_COMPONENT: BottomNavigation -->

        <!-- @COMPONENT: FloatingCartButton [Floating cart access button] -->
        <div class="floating-cart">
            <button id="cartBtn" class="bg-primary text-primary-foreground p-4 rounded-full shadow-lg hidden">
                <i class="fas fa-shopping-cart"></i>
                <span id="cartCount" class="absolute -top-2 -right-2 bg-destructive text-destructive-foreground text-xs rounded-full h-6 w-6 flex items-center justify-center">0</span>
            </button>
        </div>
        <!-- @END_COMPONENT: FloatingCartButton -->

    </div>
    <!-- @END_COMPONENT: MobileApp -->

    <script>
        (function() {
            // @STATE: cart:array = [], darkMode:boolean = false, currentPage:string = 'homepage'
            
            // App State
            let appState = {
                cart: [],
                darkMode: false,
                currentPage: 'homepage'
            };

            // @FUNCTIONALITY: Page navigation system
            function showPage(pageId) {
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                document.getElementById(pageId).classList.add('active');
                appState.currentPage = pageId;
                
                // Update navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                    const icon = btn.querySelector('i');
                    const text = btn.querySelector('span');
                    icon.className = icon.className.replace('text-primary', 'text-muted-foreground');
                    text.className = text.className.replace('text-primary', 'text-muted-foreground');
                });
                
                const activeBtn = document.querySelector(`[data-page="${pageId}"]`);
                if (activeBtn) {
                    activeBtn.classList.add('active');
                    const icon = activeBtn.querySelector('i');
                    const text = activeBtn.querySelector('span');
                    icon.className = icon.className.replace('text-muted-foreground', 'text-primary');
                    text.className = text.className.replace('text-muted-foreground', 'text-primary');
                }
            }

            // @FUNCTIONALITY: Cart management with local storage
            function addToCart(item) {
                const existingItem = appState.cart.find(cartItem => cartItem.id === item.id);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    appState.cart.push({...item, quantity: 1});
                }
                updateCartUI();
                showCartNotification();
            }

            function removeFromCart(itemId) {
                appState.cart = appState.cart.filter(item => item.id !== itemId);
                updateCartUI();
            }

            function updateCartUI() {
                const cartCount = appState.cart.reduce((sum, item) => sum + item.quantity, 0);
                const cartBtn = document.getElementById('cartBtn');
                const cartCountEl = document.getElementById('cartCount');
                
                if (cartCount > 0) {
                    cartBtn.classList.remove('hidden');
                    cartCountEl.textContent = cartCount;
                } else {
                    cartBtn.classList.add('hidden');
                }

                // Update cart page
                updateCartPage();
            }

            function updateCartPage() {
                const cartItemsList = document.getElementById('cartItemsList');
                const orderSummary = document.getElementById('orderSummary');
                
                if (appState.cart.length === 0) {
                    cartItemsList.innerHTML = `
                        <div class="text-center text-muted-foreground py-8">
                            <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                            <p>السلة فارغة</p>
                            <p class="text-sm">أضف بعض العناصر لتبدأ طلبك</p>
                        </div>
                    `;
                    orderSummary.classList.add('hidden');
                } else {
                    cartItemsList.innerHTML = appState.cart.map(item => `
                        <div class="bg-card border border-border rounded-xl p-4 flex justify-between items-center">
                            <div class="flex-1">
                                <h4 class="font-medium text-foreground">${item.name}</h4>
                                <p class="text-sm text-muted-foreground">${item.price} ريال × ${item.quantity}</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="font-bold text-primary">${item.price * item.quantity} ريال</span>
                                <button onclick="removeFromCart('${item.id}')" class="text-destructive hover:bg-destructive/10 p-2 rounded">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        </div>
                    `).join('');
                    
                    const subtotal = appState.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                    const total = subtotal + 5; // +5 for delivery
                    
                    document.getElementById('subtotal').textContent = `${subtotal} ريال`;
                    document.getElementById('total').textContent = `${total} ريال`;
                    orderSummary.classList.remove('hidden');
                }
            }

            function showCartNotification() {
                // TODO: Implement toast notification for item added to cart
            }

            // @FUNCTIONALITY: Dark mode toggle
            function toggleDarkMode() {
                appState.darkMode = !appState.darkMode;
                document.documentElement.classList.toggle('dark', appState.darkMode);
                
                const icon = document.querySelector('#darkModeToggle i');
                icon.className = appState.darkMode ? 'fas fa-sun text-muted-foreground' : 'fas fa-moon text-muted-foreground';
            }

            // Event Listeners
            document.addEventListener('DOMContentLoaded', function() {
                // Navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const page = btn.dataset.page;
                        showPage(page);
                    });
                });

                // Restaurant cards - navigate to detail
                document.querySelectorAll('.restaurant-card').forEach(card => {
                    card.addEventListener('click', () => {
                        showPage('restaurantDetail');
                    });
                });

                // Add to cart buttons
                document.querySelectorAll('.add-to-cart').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const item = {
                            id: btn.dataset.itemId,
                            name: btn.dataset.name,
                            price: parseInt(btn.dataset.price)
                        };
                        addToCart(item);
                    });
                });

                // Back buttons
                document.getElementById('backBtn').addEventListener('click', () => showPage('homepage'));
                document.getElementById('cartBackBtn').addEventListener('click', () => showPage('homepage'));
                document.getElementById('adminBackBtn').addEventListener('click', () => showPage('homepage'));

                // Cart button
                document.getElementById('cartBtn').addEventListener('click', () => showPage('cart'));

                // Dark mode toggle
                document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);

                // Menu access (temporary admin access)
                document.getElementById('menuBtn').addEventListener('click', () => showPage('admin'));

                // Category tabs
                document.querySelectorAll('.category-tab').forEach(tab => {
                    tab.addEventListener('click', function() {
                        document.querySelectorAll('.category-tab').forEach(t => {
                            t.classList.remove('active', 'bg-primary', 'text-primary-foreground');
                            t.classList.add('bg-muted', 'text-muted-foreground');
                        });
                        this.classList.remove('bg-muted', 'text-muted-foreground');
                        this.classList.add('active', 'bg-primary', 'text-primary-foreground');
                    });
                });

                // Menu category tabs
                document.querySelectorAll('.menu-category').forEach(tab => {
                    tab.addEventListener('click', function() {
                        document.querySelectorAll('.menu-category').forEach(t => {
                            t.classList.remove('active', 'bg-primary', 'text-primary-foreground');
                            t.classList.add('bg-muted', 'text-muted-foreground');
                        });
                        this.classList.remove('bg-muted', 'text-muted-foreground');
                        this.classList.add('active', 'bg-primary', 'text-primary-foreground');
                    });
                });

                // Place order button
                document.getElementById('placeOrderBtn').addEventListener('click', function() {
                    // TODO: Implement order placement logic
                    alert('تم تأكيد طلبك بنجاح! سيتم التواصل معك قريباً.');
                    appState.cart = [];
                    updateCartUI();
                    showPage('homepage');
                });

                // Make removeFromCart globally accessible
                window.removeFromCart = removeFromCart;
            });
        })();
    </script>
</body>
</html>